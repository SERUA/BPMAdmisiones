<!-- ng-hide="properties.cita.cita_horario" -->
<div class="panel panel-danger col-md-12" ng-show="!properties.readOnly" >
    <div class="panel-heading" style="background-color: #ff5900" align="center" ng-show="!properties.cita.cita_horario"><strong style="color:white;">Calendario de entrevistas</strong></div>
    <div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:80vh; padding:10px;' ng-show="!properties.cita.cita_horario">
        <div class="dhx_cal_navline">
            <div class="dhx_cal_prev_button">&nbsp;</div>
            <div class="dhx_cal_next_button">&nbsp;</div>
            <div class="dhx_cal_today_button"></div>
            <div class="dhx_cal_date"></div>
            <div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
            <div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
            <div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
            <div class="dhx_cal_date"></div>
            <div class="dhx_minical_icon" id="dhx_minical_icon" ng-click="show_minical()">&nbsp;</div>
        </div>
        <div class="dhx_cal_header"></div>
        <div class="dhx_cal_data"></div>
    </div>
    <div class="row" ng-show="properties.cita.cita_horario" style="text-align: center; ">
        <div style="text-align: center; background-color: #ff5900; color: white; padding: 15px; border-radius: 16px; margin: 30px;">
            <!--<h2 style="color: white;">Cita del aspirante</h2>-->
            <div style="display: flex; gap: 30px; justify-content: space-evenly; flex-wrap: wrap;">
                <div>
                    <h3><b>Sesi贸n:</b></h3>
                    <p>{{properties.cita.cita_horario.cita_entrevista.nombre}}</p>
                </div>
                <div>
                    <h3><b>Descripci贸n:</b></h3>
                    <p>{{properties.cita.cita_horario.cita_entrevista.descripcion_entrevista}}</p>
                </div>
                <div>
                    <h3><b>Fecha:</b></h3>
                    <p>{{formatDate(properties.cita.cita_horario.cita_entrevista.fecha_entrevista)}}</p>
                </div>
                <div>
                    <h3><b>Horario:</b></h3>
                    <p>{{properties.cita.cita_horario.hora_inicio + " - " + properties.cita.cita_horario.hora_fin}}</p>
                </div>
            </div>
        </div>
        <div class="row">
            <button type="button" class="btn btn-default" ng-click="properties.cita.cita_horario = null" style="margin-bottom: 30px">Cambiar fecha y hora de la cita</button>
        </div>
    </div>
</div>
<div class="col-xs-12" ng-show="properties.readOnly" style="text-align: center;">

    <div style="text-align: center; background-color: #ff5900; color: white; padding: 15px; border-radius: 16px;">
        <!--<h2 style="color: white;">Cita del aspirante</h2>-->
        <div ng-show="properties.cita.cita_horario" style="display: flex; gap: 30px; justify-content: space-evenly; flex-wrap: wrap;">
            <div>
                <h3><b>Sesi贸n:</b></h3>
                <p>{{properties.cita.cita_horario.cita_entrevista.nombre}}</p>
            </div>
            <div>
                <h3><b>Descripci贸n:</b></h3>
                <p>{{properties.cita.cita_horario.cita_entrevista.descripcion_entrevista}}</p>
            </div>
            <div>
                <h3><b>Fecha:</b></h3>
                <p>{{formatDate(properties.cita.cita_horario.cita_entrevista.fecha_entrevista)}}</p>
            </div>
            <div>
                <h3><b>Horario:</b></h3>
                <p>{{properties.cita.cita_horario.hora_inicio + " - " + properties.cita.cita_horario.hora_fin}}</p>
            </div>
        </div>
        <div class="row" ng-show="!properties.cita.cita_horario">
            <br><br>
            <h2><b>No hay datos para mostrar</b></h2><br>
            <p>No se ha registrado ninguna cita para el aspirante.</p>
            <br><br>
        </div>
    </div>
</div>

<div id="modalConfirmar" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" align="center"><strong>Seleccionar entrevista</strong></h4>
            </div>
            <div class="modal-body row">
                <div class="col-xs-6 col-xs-offset-3">
                    <h3 class="text-center">{{fechaSelected}}</h3>
                    <table class="table table-striped">
                        <tbody>
                            <tr ng-repeat="entrevista in entrevistas" style="height: 60px;">
                                <td>{{entrevista.hora_inicio}} - {{entrevista.hora_fin}}</td>
                                <td class="text-center">
                                    <label style="cursor: pointer; outline: none; margin-top: 9px;" ng-click="seleccionarHorario(entrevista)" ng-if="entrevista.disponible">
                                        <span style="padding: 15px;font-size: 15px;" class="label label-success">Disponible</span>
                                    </label>
                                    <label style="cursor: pointer; outline: none; margin-top: 9px;" ng-if="!entrevista.disponible">
                                        <span style="padding: 15px;font-size: 15px;" class="label label-default">{{(entrevista.ocupado) ? 'Ocupado' : 'No Disponible' }}</span>
                                    </label>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <div class="col-xs-12">
                    <div class="col-xs-6 text-left">
                        <button class="btn btn-info" ng-if="entrevistas.psicologos[0].lstFechasDisponibles.length>0" ng-click="entrevistas.psicologos[0].lstFechasDisponibles=[] ">
                            Cancelar
                        </button>
                    </div>
                    <div class="col-xs-6 text-right "> 
                        <button type="button " class="btn btn-primary " data-dismiss="modal" ng-click="closeModal()">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>